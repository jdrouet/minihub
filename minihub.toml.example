# minihub configuration
# Copy to minihub.toml and adjust values as needed.
# All fields are optional â€” defaults are shown below.
# Environment variables override file values:
#   MINIHUB_HOST, MINIHUB_PORT, MINIHUB_BIND,
#   MINIHUB_DATABASE_URL, MINIHUB_LOG, RUST_LOG,
#   MINIHUB_MQTT_ENABLED, MINIHUB_MQTT_BROKER_HOST, MINIHUB_MQTT_BROKER_PORT,
#   MINIHUB_BLE_ENABLED, MINIHUB_BLE_SCAN_DURATION_SECS

[server]
host = "0.0.0.0"
port = 3000

[database]
url = "sqlite:minihub.db?mode=rwc"

[logging]
filter = "minihubd=info,minihub=info,tower_http=debug"

[integrations]
virtual_enabled = true

[integrations.mqtt]
enabled = false
broker_host = "localhost"
broker_port = 1883
client_id = "minihub"
base_topic = "minihub"
keep_alive_secs = 30

[integrations.ble]
enabled = false
scan_duration_secs = 10
update_interval_secs = 60
device_filter = []

[dashboard.atc_thresholds]
temp_warning_low = 18.0
temp_warning_high = 25.0
temp_danger_low = 15.0
temp_danger_high = 30.0
humidity_warning_low = 30.0
humidity_warning_high = 70.0
humidity_danger_low = 20.0
humidity_danger_high = 80.0
battery_warning_below = 30
battery_danger_below = 15

# Optional per-device overrides (keyed by BLE entity_id)
# Example: sensor.ble_a4c1385b0edf
[dashboard.atc_thresholds_by_entity."sensor.ble_a4c1385b0edf"]
temp_warning_low = 19.0
temp_warning_high = 24.0
temp_danger_low = 16.0
temp_danger_high = 29.0
humidity_warning_low = 35.0
humidity_warning_high = 65.0
humidity_danger_low = 25.0
humidity_danger_high = 75.0
battery_warning_below = 35
battery_danger_below = 20
