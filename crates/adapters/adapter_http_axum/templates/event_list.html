{% extends "base.html" %} {% block title %}Events{% endblock %} {% block content
%}
<h1>Event Log</h1>

{% if events.is_empty() %}
<p>No events recorded.</p>
{% else %}
<div class="card">
    <style>
        .event-log-table .event-data-row td {
            padding-top: 0.35rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #e9ecef;
        }

        .event-log-table .event-main-row td {
            border-bottom: none;
        }

        .event-log-table .event-data {
            display: block;
            white-space: normal;
            overflow-wrap: anywhere;
        }
    </style>
    <table class="event-log-table">
        <thead>
            <tr>
                <th>Timestamp</th>
                <th>Type</th>
                <th>Entity ID</th>
            </tr>
        </thead>
        <tbody>
            {% for event in events %}
            <tr class="event-main-row">
                <td>{{ event.timestamp.format("%Y-%m-%d %H:%M:%S") }}</td>
                <td><span class="badge">{{ event.event_type }}</span></td>
                <td>
                    {% match event.entity_id %}{% when Some with (id) %}{{ id
                    }}{% when None %}â€”{% endmatch %}
                </td>
            </tr>
            <tr class="event-data-row">
                <td colspan="3">
                    <code class="event-data">{{ event.data }}</code>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %} {% endblock %}
